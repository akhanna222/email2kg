# ============================================
# EMAIL2KG - PRODUCTION CONFIGURATION
# ============================================
# Use this template for your EC2 production deployment
# Copy this to .env and fill in your actual values

# ============================================
# PUBLIC DOMAIN/IP CONFIGURATION
# ============================================
# Your EC2 Public IP or Domain
# IMPORTANT: Update this every time your EC2 IP changes
PUBLIC_DOMAIN=34.245.66.42
PUBLIC_PROTOCOL=https

# ============================================
# DATABASE CONFIGURATION
# ============================================
DATABASE_URL=postgresql://postgres:CHANGE_THIS_PASSWORD@postgres:5432/email2kg
DB_PASSWORD=CHANGE_THIS_PASSWORD

# ============================================
# SECURITY (REQUIRED)
# ============================================
# Generate with: openssl rand -hex 32
SECRET_KEY=CHANGE_THIS_TO_RANDOM_64_CHAR_HEX
JWT_SECRET_KEY=CHANGE_THIS_TO_RANDOM_64_CHAR_HEX
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=10080  # 7 days

# ============================================
# REDIS/CELERY CONFIGURATION
# ============================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ============================================
# EMAIL PROVIDER CONFIGURATION
# ============================================
EMAIL_PROVIDER=gmail

# Google OAuth (REQUIRED for Gmail)
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
# Auto-configured based on PUBLIC_DOMAIN above
# GOOGLE_REDIRECT_URI will be: https://34.245.66.42/api/auth/google/callback

# Email Sync Settings
EMAIL_FETCH_MONTHS=3
EMAIL_SYNC_LIMIT=500

# ============================================
# LLM CONFIGURATION (REQUIRED)
# ============================================
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Optional: Anthropic Claude
ANTHROPIC_API_KEY=your_anthropic_api_key_here
LLM_PROVIDER=openai

# ============================================
# CORS SETTINGS
# ============================================
# Auto-configured based on PUBLIC_DOMAIN above
# Will be: ["https://34.245.66.42","http://34.245.66.42"]
# Or manually set:
# ALLOWED_ORIGINS=["https://yourdomain.com","http://yourdomain.com"]

# ============================================
# APPLICATION SETTINGS
# ============================================
ENVIRONMENT=production
DEBUG=False
UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE=10485760  # 10MB
MAX_UPLOAD_SIZE=10485760

# ============================================
# OPTIONAL: MESSAGING PLATFORMS
# ============================================
# WhatsApp Business API
# WHATSAPP_PHONE_NUMBER_ID=
# WHATSAPP_APP_ID=
# WHATSAPP_APP_SECRET=

# Telegram Bot
# TELEGRAM_BOT_TOKEN=
# TELEGRAM_BOT_USERNAME=

# ============================================
# OPTIONAL: CLOUD STORAGE
# ============================================
STORAGE_TYPE=local
# If using S3:
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_BUCKET_NAME=
# AWS_REGION=us-east-1
